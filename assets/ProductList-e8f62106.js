import{_ as C,m as v,s as k,a as P,r,o as l,c as d,d as t,b as u,F as p,j as E,w as x,t as g}from"./index-4d0c22ad.js";import{C as _}from"./CartStore-eb94c25b.js";import{P as T}from"./PaginationEffect-2e0fd878.js";import{S as m}from"./sweetalert2-fb1ab54e.js";const w="/BirdLab/assets/product-banner-9145f588.jpg",{VITE_URL:h,VITE_PATH:f}={VITE_URL:"https://vue3-course-api.hexschool.io/",VITE_PATH:"j437437",BASE_URL:"/BirdLab/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},R={data(){return{products:[],pagination:{},currentPage:1,isLoading:!1,category:""}},methods:{getProductList(o=1){this.category="",this.isLoading=!0,this.currentPage=o;const s=`${h}v2/api/${f}/products/?page=${o}`;this.$http.get(s).then(i=>{const{products:c,pagination:n}=i.data;this.products=c,this.pagination=n,this.isLoading=!1}).catch(i=>{this.isLoading=!1,m.fire({icon:"error",title:i.response.data.message})})},getCertainCategory(o){this.isLoading=!0,this.category=o;const s=`${h}v2/api/${f}/products`;this.$http.get(s).then(i=>{const{products:c}=i.data;this.products=c;const n=this.products.filter(e=>e.category===o);this.products=n,this.isLoading=!1}).catch(i=>{this.isLoading=!1,m.fire({icon:"error",title:i.response.data.message})})},...v(_,["addToCart"])},components:{RouterLink:k,PaginationEffect:T},computed:{...P(_,["carts","buttonDisable"])},mounted(){this.getProductList()}},S=t("img",{src:w,alt:"主打活動圖-夏季布窩新貨到，購買就送滋養完試吃包",class:"img-fluid"},null,-1),V={class:"container py-md-5"},B={class:"row gy-5"},D={class:"col-md-2 list-unstyled list-group list-group-flush sticky_top product_category_list",role:"tablist"},j={class:"product_category_item"},$={class:"product_category_item"},A={class:"product_category_item"},I={class:"product_category_item"},N={class:"product_category_item"},U={class:"col-md-10"},F={class:"row gy-3"},H={class:"product_card bg-light"},O={class:"product_card_img"},z=["src","alt"],M={class:"p-3 d-flex flex-column justify-content-between"},q={class:"product_card_title mb-2"},G={class:"fs-5"},J={class:""},K={class:"fw-bold text-decoration-line-through text-muted d-block"},Q={class:"fw-bold text-end fs-5"},W={class:"p-2 pt-0"},X=["onClick","disabled"],Y=t("hr",null,null,-1),Z={class:"d-flex justify-content-center mt-5"};function tt(o,s,i,c,n,e){const b=r("Loading-overlay"),y=r("RouterLink"),L=r("PaginationEffect");return l(),d(p,null,[t("header",null,[u(b,{active:n.isLoading,"z-index":1e3},null,8,["active"]),S]),t("section",V,[t("div",B,[t("ul",D,[t("li",j,[t("button",{type:"button",onClick:s[0]||(s[0]=()=>e.getProductList()),class:"list-group-item list-group-item-action active","data-bs-toggle":"list"}," 全產品 ")]),t("li",$,[t("button",{type:"button",onClick:s[1]||(s[1]=()=>e.getCertainCategory("點心")),class:"list-group-item list-group-item-action","data-bs-toggle":"list"}," 點心 ")]),t("li",A,[t("button",{type:"button",onClick:s[2]||(s[2]=()=>e.getCertainCategory("玩具")),class:"list-group-item list-group-item-action","data-bs-toggle":"list"}," 玩具 ")]),t("li",I,[t("button",{type:"button",onClick:s[3]||(s[3]=()=>e.getCertainCategory("站架")),class:"list-group-item list-group-item-action","data-bs-toggle":"list"}," 站架 ")]),t("li",N,[t("button",{type:"button",onClick:s[4]||(s[4]=()=>e.getCertainCategory("週邊")),class:"list-group-item list-group-item-action","data-bs-toggle":"list"}," 週邊 ")])]),t("div",U,[t("div",F,[(l(!0),d(p,null,E(n.products,a=>(l(),d("div",{class:"col-md-6 col-lg-3",key:a.id},[t("div",H,[u(y,{to:`/product/${a.id}`,class:"link"},{default:x(()=>[t("div",O,[t("img",{src:a.imageUrl,alt:a.title,class:"img_cover"},null,8,z)]),t("div",M,[t("div",q,[t("h3",G,g(a.title),1)]),t("div",J,[t("span",K," NT$"+g(a.origin_price),1),t("span",Q," NT$"+g(a.price),1)])])]),_:2},1032,["to"]),t("div",W,[t("button",{type:"button",class:"btn btn-outline-primary btn-sm w-100",onClick:()=>o.addToCart(a.id),disabled:o.buttonDisable}," 加入購物車 ",8,X)])])]))),128))]),Y,t("div",Z,[u(L,{pages:n.pagination,onEmitPages:e.getProductList},null,8,["pages","onEmitPages"])])])])])],64)}const at=C(R,[["render",tt]]);export{at as default};
