import{S as k,a as P,A as V,P as I,N as T}from"./navigation.min-5fbf70cf.js";import{S as m}from"./sweetalert2-fb1ab54e.js";import{_ as B,i as u,r as l,o as c,c as a,b as n,d as e,t as r,F as g,j as f,e as E,w as d,k as $,p as R,q as j}from"./index-4d0c22ad.js";const{VITE_URL:w,VITE_PATH:v}={VITE_URL:"https://vue3-course-api.hexschool.io/",VITE_PATH:"j437437",BASE_URL:"/BirdLab/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},D={data(){return{article:{},id:"",articles:[],recommendArticles:[],isLoading:!1}},components:{Swiper:k,SwiperSlide:P},setup(){const t=u(null),s=u(null);return{onAutoplayTimeLeft:(p,i,h)=>{t.value.style.setProperty("--progress",1-h),s.value.textContent=`${Math.ceil(i/1e3)}s`},progressCircle:t,progressContent:s,modules:[V,I,T]}},methods:{getArticle(){this.isLoading=!0;const t=`${w}v2/api/${v}/article/${this.id}`;this.$http.get(t).then(s=>{this.article=s.data.article,this.getArticleList()}).catch(s=>{m.fire({icon:"error",title:s.response.data.message})})},getArticleList(){const t=`${w}v2/api/${v}/articles`;this.$http.get(t).then(s=>{this.articles=s.data.articles,this.recommandArticletFilter()}).catch(s=>{m.fire({icon:"error",title:s.response.data.message})})},recommandArticletFilter(){const t=this.articles.filter(s=>s.id!==this.article.id);this.recommendArticles=t,this.isLoading=!1},refreshPage(t){this.id=t,this.getArticle()}},watch:{"$route.params":{handler(){if(this.$route.params.id){const t=this.$route.params.id;this.refreshPage(t)}},deep:!0}},mounted(){this.id=this.$route.params.id,this.getArticle()}},_=t=>(R("data-v-ecce3388"),t=t(),j(),t),C={class:"container py-5"},N={class:"row justify-content-center mb-5"},U={class:"col-lg-9"},F=["src","alt"],H={class:"d-flex align-items-end mb-2"},M={class:"p-0 m-0 me-2"},O={class:"badge rounded-pill text-bg-primary"},q={class:""},z=_(()=>e("hr",{class:"mb-4"},null,-1)),G=["innerHTML"],J={class:"recommended_list row justify-content-center mb-5"},K={class:"col-lg-9"},Q=_(()=>e("h4",{class:"fw-bold"},"你可能也會喜歡",-1)),W=_(()=>e("hr",null,null,-1)),X={class:"article_card"},Y={class:"article_card_img swiper_img"},Z=["src"],ee={class:"d-flex align-items-center justify-content-center text-wood fw-bold p-3 text-start bg-light"};function te(t,s,y,p,i,h){const L=l("Loading-overlay"),A=l("RouterLink"),b=l("swiper-slide"),x=l("swiper");return c(),a("div",C,[n(L,{active:i.isLoading,"z-index":1e3},null,8,["active"]),e("div",N,[e("div",U,[e("img",{src:i.article.imageUrl,alt:i.article.title,class:"w-100 mb-3 rounded-top",style:{height:"50vh","object-fit":"cover"}},null,8,F),e("div",H,[e("h2",M,r(i.article.title),1),(c(!0),a(g,null,f(i.article.tag,(o,S)=>(c(),a("p",{class:"fs-5 p-0 m-0 mx-1",key:S+"1"},[e("span",O,r(o),1)]))),128))]),e("p",q,[e("small",null,r(t.$filters.date(i.article.create_at)),1),E(" - "),e("small",null,"作者："+r(i.article.author),1)]),z,e("div",{innerHTML:i.article.content,class:""},null,8,G)])]),e("div",J,[e("div",K,[Q,W,n(x,{slidesPerView:2,spaceBetween:10,pagination:{clickable:!0},autoplay:{delay:3e3,disableOnInteraction:!1},breakpoints:{640:{slidesPerView:2,spaceBetween:10},768:{slidesPerView:3,spaceBetween:10},1024:{slidesPerView:4,spaceBetween:20}},modules:p.modules,class:"mySwiper"},{default:d(()=>[(c(!0),a(g,null,f(i.recommendArticles,o=>(c(),$(b,{key:o.id},{default:d(()=>[e("div",X,[n(A,{to:`/article/${o.id}`,class:"link text-black"},{default:d(()=>[e("div",Y,[e("img",{src:o.imageUrl,class:"img_cover"},null,8,Z)]),e("p",ee,r(o.title),1)]),_:2},1032,["to"])])]),_:2},1024))),128))]),_:1},8,["modules"])])])])}const ce=B(D,[["render",te],["__scopeId","data-v-ecce3388"]]);export{ce as default};
